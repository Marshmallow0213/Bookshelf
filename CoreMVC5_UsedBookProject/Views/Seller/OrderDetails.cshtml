@using CoreMVC5_UsedBookProject.ViewModels;
@model OrderViewModel
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    ViewBag.Title = "商品詳情";
}
<div class="container-fluid">
    <h1>訂單詳情</h1>
    <table class="container-fluid">
        <tr><td>@Html.DisplayNameFor(model => model.OrderId)</td><td>@Model.OrderId</td></tr>
        <tr><td>@Html.DisplayNameFor(model => model.SellerId)</td><td>@Model.SellerId</td></tr>
        <tr><td>@Html.DisplayNameFor(model => model.BuyerId)</td><td>@Model.BuyerId</td></tr>
        <tr><td>@Html.DisplayNameFor(model => model.SellerName)</td><td>@Model.SellerName</td></tr>
        <tr><td>@Html.DisplayNameFor(model => model.BuyerName)</td><td>@Model.BuyerName</td></tr>
        <tr><td>@Html.DisplayNameFor(model => model.DenyReason)</td><td>@Model.DenyReason</td></tr>
        <tr><td>@Html.DisplayNameFor(model => model.ProductId)</td><td>@Model.ProductId</td></tr>
        <tr><td>@Html.DisplayNameFor(model => model.Trade)</td><td>@Model.Trade</td></tr>
        @if (Model.Trade == "金錢")
        {
            <tr><td>@Html.DisplayNameFor(model => model.UnitPrice)</td><td>@(decimal.Round(Model.UnitPrice, 0) == 0 ? "" : decimal.Round(Model.UnitPrice, 0))</td></tr>
        }
        <tr><td>@Html.DisplayNameFor(model => model.Status)</td><td>@Model.Status</td></tr>
    </table>
    <br />
    <div class="gap-2">
        @if (Model.Status == "待確認")
        {
            <a href="@Url.Action("AcceptOrder", "Seller", new {OrderId = Model.OrderId, trade = Model.Trade})" class="btn btn-primary">接受</a>
            <a href="@Url.Action("DenyOrder", "Seller", new {OrderId = Model.OrderId, trade = Model.Trade})" class="btn btn-danger">拒絕</a>
        }
        @if (Model.Status == "待取消")
        {
            <a href="@Url.Action("DenyOrder", "Seller", new {OrderId = Model.OrderId, trade = Model.Trade})" class="btn btn-danger">取消訂單</a>
        }
        <button type="button" onclick="history.go(-1)" class="btn btn-secondary disable-onbeforeunload">取消</button>
    </div>
</div>